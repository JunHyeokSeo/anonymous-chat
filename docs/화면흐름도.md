# 화면 흐름도

이 문서는 사용자의 주요 화면 전환 흐름을 다이어그램으로 나타냅니다. 실제 화면은 클라이언트 구현에 따라 달라질 수 있으나, 서버가 제공하는 페이지 템플릿을 기준으로 흐름을 정의합니다.

## 주요 화면 흐름

```mermaid
graph TD
    A[로그인 페이지 /login] -->|OAuth2 로그인 시도| B(소셜 로그인 제공자);
    B -->|인증 성공| C{서버 /auth/callback};
    C -->|회원가입 필요| D[회원가입 페이지 /register];
    C -->|기존 회원| E[메인 페이지 /];

    D -->|가입 완료| E;

    E --> F[채팅 목록 /chat-list];
    E --> G[내 프로필 /profile];
    E --> H[사용자 검색 /];

    F --> I{채팅방 /chat/{roomId}};
    H -->|사용자 선택| J[타인 프로필 /user/{userId}];
    J -->|채팅 시작| I;

    G --> K[프로필 수정 /profile/edit];
    K -->|수정 완료| G;

    subgraph "로그인 및 가입"
        A
        B
        C
        D
    end

    subgraph "메인 서비스"
        E
        F
        G
        H
        I
        J
        K
    end
```

### 흐름 설명

1.  **로그인**: 사용자는 로그인 페이지에서 원하는 소셜 로그인(Google, Kakao 등)을 선택합니다.
2.  **인증 및 콜백**: 소셜 로그인 성공 후, 서버의 `/auth/callback` 엔드포인트로 리디렉션됩니다.
3.  **분기 (회원/비회원)**:
    - 서버는 해당 사용자가 신규 사용자인지 확인합니다. 신규 사용자(Guest)일 경우, 추가 정보를 입력하는 회원가입 페이지(`/register`)로 안내합니다.
    - 기존 회원일 경우, 즉시 로그인이 완료되어 메인 페이지(`/`)로 이동합니다.
4.  **메인 페이지**: 로그인 후 사용자는 메인 페이지에서 다른 기능으로 접근할 수 있습니다.
    - **채팅 목록**: 기존에 진행 중인 채팅방 목록을 확인합니다.
    - **내 프로필**: 자신의 프로필 정보를 확인하거나 수정 페이지로 이동합니다.
    - **사용자 검색**: 다른 사용자를 검색하고 프로필을 조회할 수 있습니다.
5.  **채팅 시작**: 채팅 목록에서 기존 채팅방에 입장하거나, 다른 사용자의 프로필에서 새로 채팅을 시작하여 채팅방(`/chat/{roomId}`)으로 진입합니다.
